import React, { useState, useEffect } from 'react';
import { Page } from './types';
import { Navigation } from './components/Navigation';
import { Home } from './components/Home';
import { InfoPages } from './components/InfoPages';
import { ActionPages } from './components/ActionPages';
import { Footer } from './components/Footer';

export default function App() {
  const [currentPage, setCurrentPage] = useState<Page>(Page.Home);

  useEffect(() => {
    window.scrollTo(0, 0);
  }, [currentPage]);

  const handleSetPage = (page: Page) => {
    setCurrentPage(page);
  };

  const renderContent = () => {
    switch (currentPage) {
      case Page.Home:
        return <Home setPage={handleSetPage} />;
      
      // Info & Visionary Pages
      case Page.AboutUs:
      case Page.NewBuilding:
      case Page.OurStaff:
      case Page.ChurchPlanting:
      case Page.OurVision:
      case Page.StatementOfFaith:
        return <InfoPages page={currentPage} setPage={handleSetPage} />;

      // Action, Ministry & Event Pages
      case Page.GetConnected:
      case Page.PlanAVisit:
      case Page.Conference2025:
      case Page.Events2026:
      case Page.Stories:
      case Page.Give:
      case Page.Ministries:
      case Page.ChildrensMinistry:
      case Page.Recovery:
        return <ActionPages page={currentPage} setPage={handleSetPage} />;
        
      default:
        return <Home setPage={handleSetPage} />;
    }
  };

  const bgColor = currentPage === Page.Home ? 'bg-[#1a1a1a]' : 'bg-[#0f0f0f]';

  return (
    <div className={`min-h-screen w-full relative ${bgColor} transition-colors duration-500`}>
      <Navigation 
        currentPage={currentPage}
        setPage={handleSetPage} 
      />

      <main className="p-4 pt-24 md:p-12 md:pt-32">
        <div className="w-full max-w-7xl mx-auto">
          {renderContent()}
          <Footer setPage={handleSetPage} />
        </div>
      </main>
    </div>
  );
}